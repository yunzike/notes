## 一、Object





## 二、String

### 1、String

- 特点

  Java中的字符串是由双引号括起来的多个字符，Java中的字符采用Unicode编码，所以Java字符串可以包含中文等亚洲字符。
  Java SE提供了三个字符串类：String、StringBuffer和StringBuilder。String是不可变字符串，StringBuffer和StringBuilder是可变字符串。
  ""表示空字符串，双引号中没有任何内容，空字符串不是null，空字符串分配了内存空间，而null是没有分配内存空间。

- 创建字符串

  方式一：直接使用双引号声明字符串常量

  ```java
  String s1 = "Hello World";
  String s2 = "\u0048\u0065\u006c\u006c\u006f\u0020\u0057\u006f\u0072\u006c\u0064";
  ```

  方式二：使用String类的构造方法

  ```java
  //创建空字符串
  String();
  //使用字符串、StringBuffer、StringBuilder、字符数组、或平台默认字符集解码指定的byte数组创建字符串
  String(String original)；
  String(StringBuffer buffer)；
  String(StringBuilder builder)；
  String(char[] value)；
  //通过字符数组的子数组创建并初始化一个新的String对象,offset为第一个字符的索引，count指定长度
  String(char[] value, int offset, int count)；
  //通过byte数组如{97，98，99},创建并初始化一个新的 String 对象
  String(byte[] bytes);
  ```

- 常用方法

  ```java
  length();
  ```

### 2、字符串池

  创建字符串有两种方式：两种内存区域（pool,heap）

String str="abc"，会先去“字符数据池”搜索是否有“abc”这个字符串，如果有则将该字符串的首地址赋值给str，如果没有则生成一个新的字符串“abc”并且将首地址赋值给str；

String str=new String("abc")，这种方式不会考虑时候已经存在了“abc”这个字符串，而是直接生成一个新的字符串“abc”并将首地址赋值给str，注意“abc”并不放在“字符数据池”中；

```java
//情况一：
String s1 = "abc";
String s2 = "abc";
String s3 = "a" + "b" + "c";

System.out.println(s1 == s2);  //true ，比较地址值，都在常量池，相等
System.out.println(s1 == s3);  //true ，比较地址值，都在常量池，相等
System.out.println(s1.equals(s2));  //true   比较两个对象的值相等。
//情况二：
String s1 = new String("abc");
String s2 = new String("abc");

System.out.println(s1 == s2);  //false ，在堆内存中分别创建了两个不同的对象
System.out.println(s1.equals(s2));  //true   比较两个对象的值相等。

//情况三：
String s1 = new String("abc");//这行代码创建了 2 个对象，先在常量池中，然后在堆中
String s2 = "abc";

System.out.println(s1 == s2); //false，一个在堆内存中，一个在常量池中
System.out.println(s1.equals(s2));  //true   比较两个对象的值相等。

//情况五：
String s1 = "ab";
String s2 = "abc";
String s3 = s1 + "c";

//因为 s1 是变量，编译的时候确定不了值，创建 S3 时会先在堆内存中分配地址然后赋值,
//而 s2 在常量池，所以不相等。
System.out.println(s2 == s3);      // false   
System.out.println(s2.equals(s3));  //true   比较两个对象的值相等。
```

### 3、字符长度和容量

- 长度

  长度和容量

  length：长度，str.length()返回字符串当前实际长度。

- 容量

  capacity:容量，str.capacity()返回字符串容量。

  对于可变字符串
  创建时如不指定容量大小，则capacity默认的值是16.
  如StringBuilder sBuilder = new SrtingBuilder();
  length=0；

  指定了值，就把这个值赋给capacity.
  如StringBuilder sBuilder = new SrtingBuilder(10);
  则capacity为10，length=0；

  传字符串，capacity的值就是字符串的长度+16.
  如StringBuilder sBuilder = new SrtingBuilder(“1234”);
  则capacity为20，length=4；

  如果当前length值加上要增加的字符串长度大于默认capacity值16而无法容纳，
  如果将capacity扩大为现有容量的2倍+2能容纳则扩容为2倍+2；
  不能容纳则扩容为刚好能容纳的容量。



### 4、StringBuffer & StringBuilder

- StringBuffer

  线程安全，支持多线程同步，单线程下会影响效率

- StringBuilder

  线程不安全，是StringBuffer的单线程版，Java 5之后发布，执行效率高。

- 相同点：

  在对字符串进行增删改插等操作不会产生新的对象

  完全相同的API，即相同的4个构造方法
  StringBuilder()：创建空字符串，capacity默认为16。
  StringBuilder(int capacity) : 指定capacity值；
  StringBuilder(String str):由字符串创建，capacity为16+str.length();
  StringBuilder(CharSequence seq):可以是String、StringBuffer、StringBuilder等。

## 三、包装类

- 概述

  Java 中 8 种基本数据类型，都有一个对应的包装类。它是一个类，内部有一个实例变量，保存对应的基本类型的值，另外提供一些静态方法、静态变量和实例方法，以方便对数据进行操作。除了 Integer 和 Character 外，其他包装类名与基本类型基本一样，只是首字母大写。

| 基本类型 | 包装类    |
| -------- | --------- |
| byte     | Byte      |
| short    | Short     |
| int      | Integer   |
| long     | Long      |
| float    | Float     |
| double   | Double    |
| char     | Character |
| boolean  | Boolean   |

- 作用

  Java 中许多代码（如容器类）只能操作对象，为了能操作基本类型，需要使用其对应的包装类。另外包装类提供了很多有用的方法，可以方便对数据的操作。

- 基本用法

  包装类与基本类型转换

  每个包装类都有一个静态方法 `valueOf()`，接受基本数据类型，返回引用类型，也有一个实例方法 `xxxValue()`返回对应的基本类型。

  ```java
int i1 = 123;
  Integer iobj = Integer.valueOf(i1);
  int i2 = iobj.intValue();
  ```
  
  装箱与拆箱
  
  将基本类型转换为包装类的过程，一般称为“装箱”，而将包装类型转换为基本类型的过程，则称为“拆箱”。
  
  Java 5 以后引入了自动装箱和拆箱技术，可以直接将基本类型和对应包装类型互相赋值。实质上会被编译器替换为调用 `valueOf` / `xxxValue` 方法。
  
  每种包装类也都有构造方法，可以通过 `new` 创建，如：`Integer a = new Integer(100);` ，但建议使用静态的 `valueOf`方法，因为 `new` 每次都会创建新的对象，而除了 Float 和 Double 外的其他包装类，都会缓存包装类对象，减少需要创建对象的次数，节省空间，提升性能。实际上，从 Java 9 开始，这些构造方法已经被标记为过时了。
  
  valueOf 的实现
  
  ```java
  
  ```
  
- 常用常量

  

- 不可变性

  

  

## 四、System类



## 五、Runtime类



## 六、Math类



## 七、Date类（日期和时间）

#### 基本概念

- 时区

  

- 时刻和纪元时

  

- 年历

  

#### 日期和时间 API

- Date
- Calendar
- DateFormat
- TimeZone
- Locale

#### JDK 8 中时间



## 8、随机

- Math.random

  Java 中对随机最基本的支持是 Math 类中的静态方法 `random()` ，它生成一个 `[0, 1)`  类型为 `double` 的随机数。内部其实是使用了一个 Random 类型的静态变量，调用了该变量的 `nextDouble()` 方法。

- Random 类

  ```java
  Random rnd = new Random();
  rnd.nextInt();//产生一个随机的 int ,可能为正数也可能为负数。
  rnd.nextInt(100);//产生一个 [0, 100) 的随机 int 。
  
  nextLong();
  nextBoolean();
  nextBytes(byte[] bytes);
  nextFloat();
  nextDouble();
  ```

  随机种子

  种子相同，则程序无论执行多少遍，在哪执行，输出结果都是相同的。

  ```java
  Random rnd = new Random(20200101);//构造方法指定种子
  for(int i = 0; i < 5; i++){
  		
  }
  ```

- 随机的基本原理

  Random 产生的随机数不是真正的随机数，相反，它产生的随机数一般称为伪随机数。真正的随机数比较难以产生，计算机程序中的随机数一般都是伪随机数。伪随机数都是基于一个种子，对当前种子进行一些数学运算而得出的。

  Random 的默认构造方法中没有传递种子，它会自动生成一个种子，这个种子是一个真正的随机数。

- 随机密码

- 洗牌

- 带权重的随机选择

- 抢红包算法

- 购车摇号算法

  